# 測試的規範層級

```ruby
RSpec.describe Calculator do
  describe '#add' do
    context 'when adding positive numbers' do
      it 'returns the sum of two positive numbers' do
        calculator = Calculator.new
        result = calculator.add(2, 3)
        expect(result).to eq(5)
      end
    end

    context 'when adding negative numbers' do
      it 'returns the sum of two negative numbers' do
        calculator = Calculator.new
        result = calculator.add(-2, -3)
        expect(result).to eq(-5)
      end
    end
  end
end
```

上述範例 RSpec 測試套件來測試一個 **`Calculator`** 類別的 **`add`** 方法。在 **`RSpec.describe`** 命令中，我們定義了一個測試套件，名稱為 **`Calculator`**。在套件內部，我們使用了 **`describe`** 命令來定義一個測試上下文，名稱為 **`#add`**。在 **`#add`** 上下文中，我們使用了兩個 **`context`** 命令，分別代表兩種不同的情境：當加入正數時，以及當加入負數時。

在每個 **`context`** 內部，我們使用了 **`it`** 命令來定義具體的測試案例。例如，在第一個 **`context`** 中，我們定義了一個測試案例，它測試在加入兩個正數時 **`add`** 方法是否會回傳正確的結果。在這個測試案例中，我們創建了一個 **`Calculator`** 物件，並呼叫 **`add`** 方法來加入兩個正數。最後，我們使用 **`expect`** 命令來斷言 **`add`** 方法的回傳值是否等於 5。

透過這樣的層級關係，我們可以組織測試案例，讓它們更具可讀性和可維護性。測試套件提供了一個最高層級的組織，它可以包含多個測試上下文。每個測試上下文代表一個特定的方法或行為，它可以包含多個測試案例。每個測試案例都代表一個具體的測試項目，它們可以包含多個斷言，用於檢查被測試的程式碼是否正確。